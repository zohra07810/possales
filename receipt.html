<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>POS Receipt</title>

<style>
  /* Receipt styling for 80mm thermal printer (RawBT) */
  body {
    margin: 0;
    padding: 0;
    font-family: monospace;
    background: #fff;
  }

  .receipt {
    width: 640px;           /* 80mm thermal width at 203 dpi */
    max-width: 100%;
    padding: 10px;
    box-sizing: border-box;
    font-size: 16px;
  }

  h2 {
    text-align: center;
    font-size: 20px;
    margin: 5px 0;
  }

  p {
    text-align: center;
    font-size: 16px;
    margin: 5px 0;
  }

  .line {
    border-top: 1px dashed #000;
    margin: 8px 0;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    font-size: 16px;
  }

  td {
    padding: 4px 0;
  }

  .right {
    text-align: right;
  }

  .total {
    font-weight: bold;
    font-size: 18px;
  }

  button {
    width: 100%;
    padding: 10px;
    margin-top: 10px;
    font-size: 16px;
    cursor: pointer;
  }

  /* Hide button when printing */
  @media print {
    button {
      display: none;
    }
  }
</style>
</head>

<body>

<div class="receipt" id="receipt">
  <h2>MY RESTAURANT</h2>
  <p>Thank you!</p>

  <div class="line"></div>

  <!-- Receipt items -->
  <table id="items"></table>

  <div class="line"></div>

  <!-- Total -->
  <table>
    <tr class="total">
      <td>Total</td>
      <td class="right" id="total"></td>
    </tr>
  </table>

  <button onclick="window.print()">Print Receipt</button>
</div>

<script>
  // Get cart items from localStorage
  const cart = JSON.parse(localStorage.getItem("cart")) || [];
  let total = 0;

  const itemsTable = document.getElementById("items");

  // Render each item
  cart.forEach(item => {
    const row = document.createElement("tr");
    row.innerHTML = `
      <td>${item.name}</td>
      <td class="right">₱${item.price.toFixed(2)}</td>
    `;
    itemsTable.appendChild(row);
    total += item.price;
  });

  // Render total
  document.getElementById("total").textContent = "₱" + total.toFixed(2);
</script>

</body>
</html>
